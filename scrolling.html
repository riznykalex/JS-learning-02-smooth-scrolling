<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Smooth Scrolling</title>
    <style>
        body {margin-bottom: 100px;}
        ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            border: 1px solid #e7e7e7;
            background-color: #f3f3f3;
            position: fixed;
        }

        li {
            float: left;
        }

        li a {
            display: block;
            color: #666;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }

        li a:hover:not(.active) {
            background-color: #ddd;
        }
        .content {
            height: 500px;
            border: 2px solid black;
        }


        .buttonTop {
            position: fixed;
            right: 0; bottom: 92px;
            font-size: 18px;
            width: 100px;
            height: 50px;
            background-color: lightcyan;
            text-align: center;
            margin: 8px 8px;
        }

        .buttonDown {
            position: fixed;
            right: 100px; bottom: 92px;
            font-size: 18px;
            width: 100px;
            height: 50px;
            background-color: lightcyan;
            text-align: center;
            margin: 8px 8px;
        }

        .scrollinfo{
            position: fixed;
            left: 0; bottom: 0;
            margin: 8px 12px;
            color: red;
        }

        #footer {
            position: fixed;
            left: 0; bottom: 0;
            padding: 10px;
            background: darkblue;
            color: #fff;
            width: 100%;
        }

    </style>



</head>
<body>

<button class="buttonDown" onClick="downScroll()" id="downButton">Scroll Down</button><br><br>
<button class="buttonTop" onClick="toTop()">To top</button>

<div id="menu">
    <ul id="selectMenu">
        <li id="grayMenuItem"><a  class="menuItem">Gray</a> </li>
        <li id="greenMenuItem"><a  class="menuItem">Green</a> </li>
        <li id="pinkMenuItem"><a  class="menuItem">Pink</a> </li>
        <li id="yellowMenuItem"><a  class="menuItem">Yellow</a> </li>
    </ul>

</div>
<div id="main">

    <div id="Gray" class="content" style="background: lightgray;">
        <a id="Agray"></a>
        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. Quisque mattis augue in nulla eleifend, id cursus sapien aliquet. Pellentesque a efficitur ligula. Proin feugiat faucibus mattis. Nulla a mollis felis, eget faucibus justo. Mauris aliquet, justo in rutrum condimentum, ligula nisl varius erat, id pellentesque turpis ipsum non nulla. Integer at nisi sapien. Integer varius in sem condimentum varius. Quisque efficitur sed arcu quis pellentesque. Fusce a dui diam. Nullam suscipit blandit tortor in dictum. In ultricies enim et sapien aliquam, quis auctor elit consequat.
        </p>
        <p>
            Nulla fringilla ante id interdum ultricies. Nam ac laoreet nibh, vitae maximus arcu. Etiam quam diam, auctor ac tortor sed, dictum consequat leo. Praesent et convallis nibh. Sed fermentum, metus tristique feugiat accumsan, lorem velit consequat nulla, sit amet venenatis neque nibh id ante. Nunc dapibus, justo vel interdum rutrum, enim tortor semper lectus, ut ultricies orci quam id risus. Ut scelerisque tortor eu tincidunt lacinia. Morbi sollicitudin dignissim enim, eu aliquam lectus faucibus in. Nunc cursus ante erat, sed tincidunt nibh mattis quis.
        </p>
        <p>
            Aenean quis risus justo. Cras finibus tortor vel ligula lacinia, vitae facilisis elit consequat. Fusce lobortis quam lobortis, pulvinar ex non, malesuada eros. Ut dolor orci, ornare vel dignissim a, eleifend ultrices nunc. Fusce felis purus, venenatis et tincidunt sed, ultrices a velit. Morbi pellentesque dui vel hendrerit consequat. Proin eget consequat est.
        </p>
        <p>
            Proin vitae accumsan felis. Maecenas id luctus arcu, quis pharetra quam. Sed eu enim gravida, hendrerit nisl in, tempor justo. Nunc mollis a enim sed scelerisque. Suspendisse tempor libero a mauris vulputate porta. Donec commodo libero et sem fringilla gravida a vel ante. Nam sed vulputate libero. Etiam scelerisque scelerisque vestibulum. Cras sed rutrum lectus, imperdiet mattis urna. Fusce mattis erat non purus vestibulum, ac hendrerit eros viverra. Aenean non neque ac nulla blandit luctus. Sed nec leo volutpat, sodales lorem non, dictum turpis. Cras venenatis quam vel velit laoreet sodales. Proin elementum enim non porta molestie.
        </p>
    </div>

    <div id="Green" class="content" style="background: lightgreen">
        <a id="Agreen"></a>
        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. Quisque mattis augue in nulla eleifend, id cursus sapien aliquet. Pellentesque a efficitur ligula. Proin feugiat faucibus mattis. Nulla a mollis felis, eget faucibus justo. Mauris aliquet, justo in rutrum condimentum, ligula nisl varius erat, id pellentesque turpis ipsum non nulla. Integer at nisi sapien. Integer varius in sem condimentum varius. Quisque efficitur sed arcu quis pellentesque. Fusce a dui diam. Nullam suscipit blandit tortor in dictum. In ultricies enim et sapien aliquam, quis auctor elit consequat.
        </p>
        <p>
            Nulla fringilla ante id interdum ultricies. Nam ac laoreet nibh, vitae maximus arcu. Etiam quam diam, auctor ac tortor sed, dictum consequat leo. Praesent et convallis nibh. Sed fermentum, metus tristique feugiat accumsan, lorem velit consequat nulla, sit amet venenatis neque nibh id ante. Nunc dapibus, justo vel interdum rutrum, enim tortor semper lectus, ut ultricies orci quam id risus. Ut scelerisque tortor eu tincidunt lacinia. Morbi sollicitudin dignissim enim, eu aliquam lectus faucibus in. Nunc cursus ante erat, sed tincidunt nibh mattis quis.
        </p>
        <p>
            Aenean quis risus justo. Cras finibus tortor vel ligula lacinia, vitae facilisis elit consequat. Fusce lobortis quam lobortis, pulvinar ex non, malesuada eros. Ut dolor orci, ornare vel dignissim a, eleifend ultrices nunc. Fusce felis purus, venenatis et tincidunt sed, ultrices a velit. Morbi pellentesque dui vel hendrerit consequat. Proin eget consequat est.
        </p>
        <p>
            Proin vitae accumsan felis. Maecenas id luctus arcu, quis pharetra quam. Sed eu enim gravida, hendrerit nisl in, tempor justo. Nunc mollis a enim sed scelerisque. Suspendisse tempor libero a mauris vulputate porta. Donec commodo libero et sem fringilla gravida a vel ante. Nam sed vulputate libero. Etiam scelerisque scelerisque vestibulum. Cras sed rutrum lectus, imperdiet mattis urna. Fusce mattis erat non purus vestibulum, ac hendrerit eros viverra. Aenean non neque ac nulla blandit luctus. Sed nec leo volutpat, sodales lorem non, dictum turpis. Cras venenatis quam vel velit laoreet sodales. Proin elementum enim non porta molestie.
        </p>
    </div>

    <div id="Pink" class="content" style="background: lightpink">
        <a id="Apink"></a>
        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. Quisque mattis augue in nulla eleifend, id cursus sapien aliquet. Pellentesque a efficitur ligula. Proin feugiat faucibus mattis. Nulla a mollis felis, eget faucibus justo. Mauris aliquet, justo in rutrum condimentum, ligula nisl varius erat, id pellentesque turpis ipsum non nulla. Integer at nisi sapien. Integer varius in sem condimentum varius. Quisque efficitur sed arcu quis pellentesque. Fusce a dui diam. Nullam suscipit blandit tortor in dictum. In ultricies enim et sapien aliquam, quis auctor elit consequat.
        </p>
        <p>
            Nulla fringilla ante id interdum ultricies. Nam ac laoreet nibh, vitae maximus arcu. Etiam quam diam, auctor ac tortor sed, dictum consequat leo. Praesent et convallis nibh. Sed fermentum, metus tristique feugiat accumsan, lorem velit consequat nulla, sit amet venenatis neque nibh id ante. Nunc dapibus, justo vel interdum rutrum, enim tortor semper lectus, ut ultricies orci quam id risus. Ut scelerisque tortor eu tincidunt lacinia. Morbi sollicitudin dignissim enim, eu aliquam lectus faucibus in. Nunc cursus ante erat, sed tincidunt nibh mattis quis.
        </p>
        <p>
            Aenean quis risus justo. Cras finibus tortor vel ligula lacinia, vitae facilisis elit consequat. Fusce lobortis quam lobortis, pulvinar ex non, malesuada eros. Ut dolor orci, ornare vel dignissim a, eleifend ultrices nunc. Fusce felis purus, venenatis et tincidunt sed, ultrices a velit. Morbi pellentesque dui vel hendrerit consequat. Proin eget consequat est.
        </p>
        <p>
            Proin vitae accumsan felis. Maecenas id luctus arcu, quis pharetra quam. Sed eu enim gravida, hendrerit nisl in, tempor justo. Nunc mollis a enim sed scelerisque. Suspendisse tempor libero a mauris vulputate porta. Donec commodo libero et sem fringilla gravida a vel ante. Nam sed vulputate libero. Etiam scelerisque scelerisque vestibulum. Cras sed rutrum lectus, imperdiet mattis urna. Fusce mattis erat non purus vestibulum, ac hendrerit eros viverra. Aenean non neque ac nulla blandit luctus. Sed nec leo volutpat, sodales lorem non, dictum turpis. Cras venenatis quam vel velit laoreet sodales. Proin elementum enim non porta molestie.
        </p>
    </div>

    <div id="Yellow" class="content" style="background: lightyellow">
        <a id="Ayellow"></a>
        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer velit nunc, euismod ut turpis at, sollicitudin porta lectus. Maecenas vehicula, nunc ac elementum feugiat, enim nibh commodo ante, eget dapibus lorem orci vel elit. Ut consequat tortor at arcu vestibulum consectetur. Quisque mattis augue in nulla eleifend, id cursus sapien aliquet. Pellentesque a efficitur ligula. Proin feugiat faucibus mattis. Nulla a mollis felis, eget faucibus justo. Mauris aliquet, justo in rutrum condimentum, ligula nisl varius erat, id pellentesque turpis ipsum non nulla. Integer at nisi sapien. Integer varius in sem condimentum varius. Quisque efficitur sed arcu quis pellentesque. Fusce a dui diam. Nullam suscipit blandit tortor in dictum. In ultricies enim et sapien aliquam, quis auctor elit consequat.
        </p>
        <p>
            Nulla fringilla ante id interdum ultricies. Nam ac laoreet nibh, vitae maximus arcu. Etiam quam diam, auctor ac tortor sed, dictum consequat leo. Praesent et convallis nibh. Sed fermentum, metus tristique feugiat accumsan, lorem velit consequat nulla, sit amet venenatis neque nibh id ante. Nunc dapibus, justo vel interdum rutrum, enim tortor semper lectus, ut ultricies orci quam id risus. Ut scelerisque tortor eu tincidunt lacinia. Morbi sollicitudin dignissim enim, eu aliquam lectus faucibus in. Nunc cursus ante erat, sed tincidunt nibh mattis quis.
        </p>
        <p>
            Aenean quis risus justo. Cras finibus tortor vel ligula lacinia, vitae facilisis elit consequat. Fusce lobortis quam lobortis, pulvinar ex non, malesuada eros. Ut dolor orci, ornare vel dignissim a, eleifend ultrices nunc. Fusce felis purus, venenatis et tincidunt sed, ultrices a velit. Morbi pellentesque dui vel hendrerit consequat. Proin eget consequat est.
        </p>
        <p>
            Proin vitae accumsan felis. Maecenas id luctus arcu, quis pharetra quam. Sed eu enim gravida, hendrerit nisl in, tempor justo. Nunc mollis a enim sed scelerisque. Suspendisse tempor libero a mauris vulputate porta. Donec commodo libero et sem fringilla gravida a vel ante. Nam sed vulputate libero. Etiam scelerisque scelerisque vestibulum. Cras sed rutrum lectus, imperdiet mattis urna. Fusce mattis erat non purus vestibulum, ac hendrerit eros viverra. Aenean non neque ac nulla blandit luctus. Sed nec leo volutpat, sodales lorem non, dictum turpis. Cras venenatis quam vel velit laoreet sodales. Proin elementum enim non porta molestie.
        </p>
    </div>


</div>




<div id="footer">

    <h3>Footer</h3>

</div>

<script>

if(window.NodeList && !NodeList.prototype.forEach) {
  NodeList.prototype.forEach = Array.prototype.forEach;
}
if(window.HTMLCollection && !HTMLCollection.prototype.forEach) {
  HTMLCollection.prototype.forEach = Array.prototype.forEach;
}



    var links = document.querySelectorAll('#selectMenu a');
    NodeList.prototype.addEventListener = function (event, handler){
        this.forEach(function (elem) {
            elem.addEventListener(event, handler);
        });
    }

    var divs = document.querySelectorAll('div.content');

  /*
    divs.addEventListener("scroll", function( event ) {   
        
        // highlight the mouseover target
        // event.target.style.color = "orange";
        alert('scroll!');
        // reset the color after a short delay
         setTimeout(function() {
            event.target.style.color = "";
        }, 500);
        }, false);
    */

    let scrollPosition = 0;
    let ticking = false;

    window.addEventListener('scroll', function(e) {
    scrollPosition = window.scrollY;

    if (!ticking) {
        window.requestAnimationFrame(function() {
        
        for (d=1; d < divs.length-1; d++){
            if (scrollPosition > divs[d-1].offsetTop && scrollPosition < divs[d].offsetTop)
             console.log(scrollPosition, divs[d-1].offsetTop, divs[d].offsetTop, divs[d-1].id);           
        }
        

        ticking = false;
        });

        ticking = true;
    }
    });


    links.addEventListener('click',function () {
        let targetId = this.innerHTML;
        let targetY = document.getElementById(targetId).offsetTop; //target div
        let y = window.pageYOffset;                                //current position
        let steps = Math.abs(targetY - y);
        for (let i = 0; i < steps; i++) {
            setTimeout(window.scrollBy(0, (targetY > y ? 1 : -1)), 1000);
           // console.log(i);
        }

    });





    function downScroll(){          // скроллинг вниз
        window.scrollBy(0, 20);
    }

    function toTop() {                  //ереход в верхнюю позицию
        window.scroll({
            top: 0,
            left: 0,
        });
    }



   // links.forEach(addEventListener('click', ) )





</script>


</body>


</html>